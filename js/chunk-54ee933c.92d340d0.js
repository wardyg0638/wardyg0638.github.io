(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54ee933c"],{"0907":function(t,a,e){},"1a33":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{staticClass:"pa-0"},[e("v-container",{staticClass:"main"},[e("v-row",[e("v-col",{staticClass:"pa-2"},[e("ListInfo",{staticClass:"pa-4",attrs:{info:t.list.info}})],1)],1),e("v-row",{directives:[{name:"show",rawName:"v-show",value:t.isList,expression:"isList"}],staticClass:"place-wrap pa-4 mt-4"},[e("ListPlaceHeader"),t._l(t.list.places,(function(t,a){return e("ListPlaceItem",{key:a,attrs:{place:t}})}))],2)],1),t.isMap?e("v-container",{staticClass:"map"},[e("Map")],1):t._e(),e("v-btn",{staticClass:"ma-14",attrs:{fab:"",right:"",top:"",fixed:"",elevation:"0","x-large":""},on:{click:t.toggleMap}},[e("svg",{directives:[{name:"show",rawName:"v-show",value:t.isMap,expression:"isMap"}],attrs:{width:"30"}},[e("use",{attrs:{"xlink:href":"#list-text"}})]),e("svg",{directives:[{name:"show",rawName:"v-show",value:t.isList,expression:"isList"}],attrs:{width:"35"}},[e("use",{attrs:{"xlink:href":"#map"}})])]),e("router-link",{attrs:{to:{name:"EditList"}}},[e("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.sameUser,expression:"sameUser"}],staticClass:"ma-14",attrs:{fab:"",right:"",bottom:"",fixed:"",elevation:"0","x-large":"",color:"#a8b7c6"}},[e("svg",{attrs:{width:"35"}},[e("use",{attrs:{"xlink:href":"#editpage"}})])])],1)],1)},i=[],n=(e("caad"),e("d81d"),e("2532"),e("5530")),o=e("2f62"),c=e("7dfa"),r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{staticClass:"wrapper pa-0 pb-3"},[e("v-row",{attrs:{id:"info","no-gutters":""}},[e("v-col",{attrs:{cols:"auto"}},[e("div",{staticClass:"pen fill-height d-flex justify-center align-center"},[t._v("編輯")])]),e("v-col",{attrs:{cols:"auto"}},[e("div",{staticClass:"photo fill-height d-flex justify-center align-center"},[t._v("照片")])]),e("v-col",[e("div",{staticClass:"fill-height d-flex justify-center align-center"},[t._v("地點")])]),e("v-col",{attrs:{cols:"auto"}},[e("div",{staticClass:"phone fill-height d-flex justify-center align-center"},[t._v("聯絡電話")])]),e("v-col",{attrs:{cols:"auto"}},[e("div",{staticClass:"pin fill-height d-flex justify-center align-center"},[t._v("導航")])])],1)],1)},l=[],u=(e("c975"),{props:{obj:{type:Object}},mounted:function(){this.tagNames.indexOf}}),f=u,d=(e("994c"),e("2877")),p=e("6544"),m=e.n(p),g=e("62ad"),v=e("a523"),h=e("0fd9"),w=Object(d["a"])(f,r,l,!1,null,"5dccc46f",null),b=w.exports;m()(w,{VCol:g["a"],VContainer:v["a"],VRow:h["a"]});var x=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{staticClass:"pa-0",attrs:{id:"wrapper"}},[e("v-row",{attrs:{"no-gutters":""}},[e("v-col",{staticClass:"tag d-flex justify-center align-center",attrs:{cols:"auto"}},[e("svg",{class:{selected:t.place.want},attrs:{id:"btnwant"},on:{click:t.toggleSelect}},[e("use",{attrs:{"xlink:href":"#want"}})])]),e("v-col",{staticClass:"photo fill-height d-flex justify-center align-center pa-2",attrs:{cols:"auto"}},[e("img",{attrs:{src:t.place.photo_url?t.place.photo_url:"https://doqvf81n9htmm.cloudfront.net/data/Luke1226_165/2020-02/%E5%92%96%E5%95%A1%E5%BB%B3/%E5%8F%B0%E5%8C%97%E7%99%AE%E5%92%96%E5%95%A1_40a.jpg"}})]),e("v-col",{staticClass:"name d-flex justify-center px-8",attrs:{"align-self":"center"}},[t._v(t._s(t.place.name))]),e("v-col",{staticClass:"phone d-flex justify-center",attrs:{cols:"auto","align-self":"center"}},[t._v(t._s(t.place.phone))]),e("v-col",{staticClass:"pin d-flex justify-center",attrs:{cols:"auto","align-self":"center"}},[e("a",{attrs:{href:"https://www.google.com/maps/search/?api=1&query="+t.place.name+"&query_place_id="+t.place.gmap_id,target:"_blank"}},[e("svg",{attrs:{id:"btnpin"}},[e("use",{attrs:{"xlink:href":"#pin"}})])])])],1)],1)},A=[],C={props:{place:{type:Object}},data:function(){return{selected:!1}},methods:{toggleSelect:function(){var t,a,e=this,s={id:101,type:1,name:"想去"};this.place.want?(t=[],a=[s.id]):(t=[s.id],a=[]),this.$store.dispatch("user/modifyPlaceTag",{place_id:this.place.id,add:t,remove:a,newTags:[]}).then((function(){e.place.want=!e.place.want}))}}},j=C,E=(e("302e"),Object(d["a"])(j,x,A,!1,null,"78e6af43",null)),F=E.exports;m()(E,{VCol:g["a"],VContainer:v["a"],VRow:h["a"]});var L=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{attrs:{fluid:"","py-0":""}},[e("v-row",[e("div",{staticClass:"map"})]),e("v-row",[e("PlaceInfoDialog",{attrs:{dialog:t.dialog},on:{"update:dialog":function(a){t.dialog=a}}})],1)],1)},k=[],T=(e("4160"),e("159b"),e("96cf"),e("1da1")),y=e("56a2"),O=e.n(y),N=e("3b37"),H={data:function(){return{google:null,map:null,marks:[]}},computed:Object(n["a"])({},Object(o["c"])("common",["list"])),watch:{list:function(){this.marks.forEach((function(t){return t.setMap(null)}));var t=this.list.places.map((function(t){return{place_id:t.id,location:t.location}}));console.log(t);var a=this.setMarkers(t);this.map.fitBounds(a)}},mounted:function(){var t=this;return Object(T["a"])(regeneratorRuntime.mark((function a(){var e,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(N["a"])();case 2:t.google=a.sent,t.map=new t.google.maps.Map(t.$el.querySelector(".map"),{disableDefaultUI:!0,mapId:"9524df6228dc9370",useStaticMap:!0,center:new t.google.maps.LatLng(parseFloat(25.033795),parseFloat(121.543202)),zoom:6}),e=t.list.places.map((function(t){return{place_id:t.id,location:t.location}})),console.log(e),s=t.setMarkers(e),t.map.fitBounds(s);case 8:case"end":return a.stop()}}),a)})))()},methods:{setMarkers:function(t){for(var a=this.map,e={url:O.a,size:new this.google.maps.Size(46,57),origin:new this.google.maps.Point(0,0),anchor:new this.google.maps.Point(23,57)},s={coords:[23,29,30],type:"circle"},i=new this.google.maps.LatLngBounds,n=0;n<t.length;n++){i.extend(new this.google.maps.LatLng(parseFloat(t[n].location.lat),parseFloat(t[n].location.lon)));var o=new this.google.maps.Marker({position:{lat:t[n].location.lat,lng:t[n].location.lon},map:a,icon:e,shape:s,place_id:t[n].place_id});this.marks.push(o)}return i}}},U=H,V=(e("4dbb"),Object(d["a"])(U,L,k,!1,null,"17409b54",null)),_=V.exports;m()(V,{VContainer:v["a"],VRow:h["a"]});var S={components:{Map:_,ListInfo:c["a"],ListPlaceHeader:b,ListPlaceItem:F},data:function(){return{dialog:!1,isList:!0,isMap:!1}},watch:{selectTags:function(){this.$store.dispatch("common/getListDetail",{list_id:this.$route.params.listId,filter:this.selectTags.map((function(t){return t.id}))})}},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(o["c"])(["selectTags"])),Object(o["c"])("common",["list"])),{},{sameUser:function(){var t=localStorage.getItem("user")?localStorage.getItem("user"):'{"user_id":-1}',a=JSON.parse(t).user_id;return this.list.editors_id.includes(parseInt(a))||this.list.info.creator_id==a}}),methods:{showDialog:function(){this.dialog=!0},closeDialog:function(){this.dialog=!1},saveTags:function(){this.dialog=!1},toggleMap:function(){this.isList=!this.isList,this.isMap=!this.isMap}},mounted:function(){this.$store.dispatch("common/getListDetail",{list_id:this.$route.params.listId,filter:[]})}},M=S,R=(e("6adf"),e("8336")),D=Object(d["a"])(M,s,i,!1,null,"e737b258",null);a["default"]=D.exports;m()(D,{VBtn:R["a"],VCol:g["a"],VContainer:v["a"],VRow:h["a"]})},"302e":function(t,a,e){"use strict";var s=e("6142"),i=e.n(s);i.a},"3b37":function(t,a,e){"use strict";e.d(a,"a",(function(){return f}));e("99af"),e("d3b7");var s,i,n="AIzaSyAG_AudvNIhN7hhHE8aRAW0xd2kkeq-BxE",o="gmapsCallback",c="9524df6228dc9370",r="place",l=!!window.google,u=new Promise((function(t,a){s=t,i=a}));function f(){if(l)return u;l=!0,window[o]=function(){return s(window.google)};var t=document.createElement("script");return t.async=!0,t.defer=!0,t.src="https://maps.googleapis.com/maps/api/js?key=".concat(n,"&callback=").concat(o,"&libraries=").concat(r,"s&map_ids=").concat(c," "),t.onerror=i,document.querySelector("head").appendChild(t),u}},"4dbb":function(t,a,e){"use strict";var s=e("5b6f"),i=e.n(s);i.a},"56a2":function(t,a){t.exports="data:image/png;base64,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"},"5b6f":function(t,a,e){},6142:function(t,a,e){},"6adf":function(t,a,e){"use strict";var s=e("8b28"),i=e.n(s);i.a},"7dfa":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",[e("v-row",[e("v-col",{staticClass:"main-title"},[t._v(t._s(t.info.name))])],1),e("v-row",[e("v-col",[t._v("創建人："+t._s(t.info.creator_username)+" ")]),e("v-col",[t._v("時間： "+t._s(t.info.createdTime))]),e("v-col",{on:{formatPrivacy:function(a){return t.formatPrivacy()}}},[t._v("隱私："+t._s(1==t.info.privacy?"公開":"私人"))])],1),e("v-row",[e("v-col",{attrs:{cols:"auto"}},[t._v("清單介紹")]),e("v-col",[t._v(t._s(t.info.description))])],1)],1)},i=[],n={props:{info:{type:Object}},data:function(){return{privacy:null}},methods:{},mounted:function(){this.formatPrivacy()}},o=n,c=(e("cc07"),e("2877")),r=e("6544"),l=e.n(r),u=e("62ad"),f=e("a523"),d=e("0fd9"),p=Object(c["a"])(o,s,i,!1,null,"3cd6dbf0",null);a["a"]=p.exports;l()(p,{VCol:u["a"],VContainer:f["a"],VRow:d["a"]})},"8b28":function(t,a,e){},"917a":function(t,a,e){},"994c":function(t,a,e){"use strict";var s=e("0907"),i=e.n(s);i.a},cc07:function(t,a,e){"use strict";var s=e("917a"),i=e.n(s);i.a}}]);
//# sourceMappingURL=chunk-54ee933c.92d340d0.js.map